package src.affichagePartie;

import javax.swing.*;
import java.awt.*;


public class statFinances extends JPanel {
    private JLabel energieIcon, argentIcon;
    private JLabel titre, energieValue, argent;

    public statFinances() {
        super();
        this.setLayout(null);

        this.energieIcon = new JLabel();        
        this.energieIcon.setIcon(new ImageIcon("src/Images/Icones_Stats/energie.png"));
        this.energieIcon.setVerticalAlignment(SwingConstants.CENTER);
        this.energieIcon.setHorizontalAlignment(SwingConstants.CENTER);
        this.argentIcon = new JLabel();
        this.argentIcon.setIcon(new ImageIcon("src/Images/Icones_Stats/argent.png"));
        this.argentIcon.setVerticalAlignment(SwingConstants.CENTER);
        this.argentIcon.setHorizontalAlignment(SwingConstants.CENTER);
        this.titre = new JLabel("Finances", SwingConstants.CENTER);
        this.energieValue = new JLabel("", SwingConstants.CENTER);
        this.argent = new JLabel("", SwingConstants.CENTER);

        
        this.add(this.energieIcon);
        this.add(this.argentIcon);
        this.add(this.argent);
        this.add(this.energieValue);
        this.add(this.titre);

        
        this.updateArgent(100000);
        this.updateEnergie(100);
        this.setVisible(true);
    }

    public void updateEnergie(int value) {
        this.energieValue.setText(value + " %");
    }

    public void updateArgent(int value) {
        this.argent.setText("" + value);
    }

    public void updatePosition() {
        this.titre.setBounds(0, 0, this.getWidth(),  1*this.getHeight()/5);

        this.argentIcon.setBounds(0,  1*this.getHeight()/5, this.getWidth()/2, 2*this.getHeight()/5);

        this.argent.setBounds(0,  4*this.getHeight()/5, this.getWidth()/2, this.getHeight()/5);

        this.energieIcon.setBounds(this.getWidth()/2,  1*this.getHeight()/5, this.getWidth()/2, 3*this.getHeight()/5);

        this.energieValue.setBounds(this.getWidth()/2,  4*this.getHeight()/5, this.getWidth()/2, this.getHeight()/5);   
        
        this.updateImage();
    }

    public void updateImage() {        
        this.energieIcon.setIcon(resizeSquareIcon((ImageIcon) this.energieIcon.getIcon(), this.energieIcon));
        this.argentIcon.setIcon(resizeSquareIcon((ImageIcon) this.argentIcon.getIcon(), this.argentIcon));
    }

    private ImageIcon resizeSquareIcon(ImageIcon icon, JLabel label) {
        int taille = Math.min(label.getWidth(), label.getHeight()); 
        return new ImageIcon(icon.getImage().getScaledInstance(taille, taille, Image.SCALE_DEFAULT));
    }

}
