package src.affichagePartie;

import java.io.*;
import javax.imageio.*;
import javax.swing.*;
import java.awt.*;

public class Affichage_annonces extends JPanel {
    private ResizeFontLabel titre;
    private static ResizeFontTextArea annonces;

    public Affichage_annonces() {
        super();
        this.setLayout(null);

        this.titre = new ResizeFontLabel("Annonces");
        this.titre.setHorizontalAlignment(SwingConstants.CENTER);
        
        annonces = new ResizeFontTextArea("");
        annonces.setRows(2);
        annonces.setColumns(1);
        annonces.setOpaque(false);
        annonces.setEditable(false);
        this.add(this.titre);
        this.add(annonces);
        
        this.setVisible(true);
        
        Affichage_annonces.addAnnonce("Aucune annonce disponible");
    }

    // Cela permets d'update le titre de la partie et l'heure sans devoir cr√©er d'instance dans la classe appelante.
    public static void addAnnonce(String newannonce) {
        annonces.append(newannonce);
    }

    public void updatePosition() {
        this.titre.setBounds(0, this.getHeight()/20, this.getWidth(), this.getHeight()/4);
        annonces.setBounds(this.getWidth()/20, 6*this.getHeight()/20, 9*this.getWidth()/10, 11*this.getHeight()/20);

        titre.updateFont();
        annonces.updateFont();
    }

    public void paintComponent(Graphics g)
    {
        //Chargement de l"image de fond
        try {
        	super.paintComponent(g);
            Image imgplay = ImageIO.read(new File("src/Images/Fond_Stat.png"));
            g.drawImage(imgplay, 0, 0, this.getWidth(), this.getHeight(), this);
        } catch (IOException e) {
            System.out.println("Erreur image de fond annonces : " + e.getMessage());
        }
    }
}
